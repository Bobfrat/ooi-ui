{% extends "common/base.html" %}

{% block title %}
<title>CHANGE ME</title>
{% endblock %}

{% block beforebootstrap %}

{% endblock %}

{% block head %}
  <link href="/css/custom/banner.css" rel="stylesheet" type="text/css" />
  <link href="/css/custom/navbar.css" rel="stylesheet" type="text/css" />
  <link href="/css/custom/custom.css" rel="stylesheet" type="text/css" />
  <link href="/css/compiled/index.css" rel="stylesheet" type="text/css" />
  <!-- Partials -->
  <script src="/js/partials/compiled/index.js" type="text/javascript"></script>
  <script src="/js/compiled/index.js" type="text/javascript"></script>
  <script src="/js/partials/compiled/landingPages.js" type="text/javascript"></script>
  <script src="/js/compiled/landingPages.js" type="text/javascript"></script>


  <script src="/js/partials/compiled/genericPlatForms.js" type="text/javascript"></script>
  <script src="/js/compiled/genericPlatForms.js" type="text/javascript"></script>
{% endblock %}

{%block body %}
<div class="container-fluid">
    <div id="navbar" class="row"></div>
</div>

<div id="wrapper" class="home-page" style="padding-left: 0px">
    <div align="center" id="page-content-wrapper">
        <h2>Find Me in /ooiui/templates/common/platform</h2>
        <h2>Create Views in /ooiui/static/js/views/platforms/  (You'll need to make the folder)</h2>
        <h2>Create css in /ooiui/static/css/platforms/ (You'll need to make the folder)</h2>
    </div><!-- page-content-wrapper --> 

</div><!-- wrapper -->

<!-- fade in image -->
<script>
// Instantiate the application for this page
var ooi = new OOI();

var vent = _.extend({}, Backbone.Events);

$(document).ready(function() {
    $(".delayImg").each(function() {
        this.onload = function() {
            $(this).animate({opacity: 1}, 2000);
        };
        this.src = this.getAttribute("delayedSrc");
    });

    ooi.start();
});

var bannerTitle = "CHANGE ME";

_.extend(OOI.prototype, Backbone.Events,  {
    login: new LoginModel(),
    views: {
    },
    collections: {
        organizations: new Organizations(),
    },
    models: {},

    start: function() {
        var self = this;
        this.login.fetch({async:false});
        //--------------------------------------------------------------------------------
        // Views
        //http://localhost:5000/platforms?id=CP01CSNM
        //var platformID = location.search.split('id=')[1]

//------------------------- EXAMPLE ONLY---------------------
        function getRandomInt(min, max){
          var ind =  Math.floor(Math.random() * (max-min+ 1)) + min;
          return platforms[ind];
        }
       
        var platforms = ["endurance", "papa", "cabled", "pioneer","argentine","irminger", "southern"];

        var platform = getRandomInt(0, platforms.length-1); 

//------------------------- EXAMPLE ONLY---------------------
        this.views.platform = new GenericPlatForm({
          platform: platform ,
          el: $('#page-content-wrapper')
          });

        //--------------------------------------------------------------------------------
        this.views.banner = new BannerView({bannerTitle});
        $('body').prepend(this.views.banner.el);

        this.views.navbar = new NavbarView({
            el: $('#navbar')
        });
    }
});
</script>
{% endblock %}
