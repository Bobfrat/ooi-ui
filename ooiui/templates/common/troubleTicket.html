{% extends "common/base.html" %}

{% block title %}
<title>Trouble Ticket Submission</title>
{% endblock %}

{% block head %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css" />

<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="/css/compiled/troubleTicket.css" type="text/css" />
<!-- Partials -->
<script src="/js/partials/compiled/troubleTicket.js" type="text/javascript"></script>
<script src="/js/compiled/troubleTicket.js" type="text/javascript"></script>
<!-- <script src="/js/compiled/signup.js" type="text/javascript"></script> -->
<style type="text/css">
/**
* Override feedback icon position
* See http://formvalidation.io/examples/adjusting-feedback-icon-position/
*/
#eventForm .form-control-feedback {
  top: 0;
  right: -15px;
}
</style>


{% endblock %}

{%block body %}
<div id="wrapper">
  <div id="sidebar-wrapper" class="navbar-default">
  </div>

  <div id="page-content-wrapper">

  </div><!-- =page-content-wrapper -->

</div> <!-- wrapper -->


<script type="text/javascript">

_.extend(OOI.prototype, Backbone.Events, {
  login: new LoginModel(),
  views: {
  //  navbar: new NavbarView(),
    ticket: new TroubleTicketView()

  },
  collections: {},

//  initViews: function() {
  //  this.views.navbar = new NavbarView();
  //  this.views.navbar.sidebarToggle(); // Hide the sidebar
//    $('body').prepend(this.views.navbar.el);
//  },

/*  initEvents: function() {
    this.listenTo(this, "login:success", this.onLogin);
    this.listenTo(this, "login:logout", this.onLogout);
  },*/

/*  initTicket: function() {
    this.views.ticket = new TroubleTicketView();
    $('#page-content-wrapper').prepend(this.views.ticket.el);
  },*/

  start: function() {
    this.login.fetch({async:false});
    this.views.navbar = new NavbarView();
    $('body').prepend(this.views.navbar.el);
    this.views.navbar.sidebarToggle(); // Hide the sidebar


  $('#page-content-wrapper').prepend(this.views.ticket.el);


  /*this.initViews();
  this.initEvents();
  this.initTicket();*/

  }
});

var ooi = new OOI();

$(document).ready(function () {
  console.log("start");

  ooi.start();
  console.log(ooi);

});
</script>
<script>
$(document).ready(function() {
  $('#datePicker')
  .datepicker({
    format: 'mm/dd/yyyy',
    autoclose: 'true'
  })
});
</script>
{% endblock %}
